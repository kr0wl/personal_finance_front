<app-nav-bar></app-nav-bar>
<div class="container" *ngIf="loans">
  <h1 class="mt-2">
    {{userName}}
  </h1>
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Loan</th>
        <th scope="col">Amount</th>
        <th scope="col">Interest</th>
        <th scope="col">Due Date</th>
        <th scope="col">Paid</th>
        <!-- <th scope="col">Make Payment</th> -->
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let loan of loans">
        <td>
          {{loan.loanName}}
        </td>
        <td>
          {{loan.loanAmount}}
        </td>
        <td>
          {{loan.interest}}
        </td>
        <td>
          {{loan.paymentDay}}
        </td>
        <td *ngIf="loan.paid == 1">
          <div class="bg-primary text-center text-white" style="border-radius: 10%; width: 25%; height: 50%">
            &#x2713;
          </div>
        </td>
        <td *ngIf="loan.paid == 0">
          <!-- <div class="bg-danger text-center text-white d-inline mr-4" style="border-radius: 10%; width: 100%; height: 100%">
            x
          </div> -->
          <button class="btn btn-primary d-inline" (click)=makePayment(loan)>
              pay
            </button>
        </td>
      </tr>
    </tbody>
  </table>
  <button type="button" class="6 btn-primary text-white" data-toggle="modal" data-target="#addLoan">Add a Loan</button>

  <div class="container">
    <!-- Modal -->
    <div class="modal fade" id="addLoan" role="dialog">
      <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Add a Loan</h4>
          </div>
          <div class="modal-body">
            <!-- <h6>
              Loan Name:
            </h6> -->
            <div class="form-group">
              <label for="loanName">Loan Name:</label>
              <input type="text" class="form-control" name="loanName" [(ngModel)]="newLoan.loanName">
            </div>
            <!-- <h6>
              Monthly Amount:
            </h6> -->
            <div class="form-group">
              <label for="loanAmount">Monthly Amount:</label>
              <input type="text" class="form-control" name="loanAmount" [(ngModel)]="newLoan.loanAmount">
            </div>
            <!-- <h6>
                Interest (decimal)
              </h6> -->
            <div class="form-group">
              <label for="interest">Interest</label>
              <input type="text" class="form-control" name="interest" [(ngModel)]="newLoan.interest">
            </div>
            <!-- <h6>
                  Day Payment is Due
                </h6> -->
            <div class="form-group">
              <label for="paymentDate">Payment Due Date</label>
              <select type="text" class="form-control" name="paymentDate" [(ngModel)]="newLoan.paymentDay">
                <option *ngFor="let day of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]">
                  {{day}}
                </option>
              </select>
            </div>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal" style="float: left" (click)="addLoan()">Add</button>
            <button type="button" class="btn btn-danger float-right" data-dismiss="modal">Close</button>
            <div class="clearfix"></div>
          </div>
        </div>

      </div>
    </div>

  </div>

</div>
